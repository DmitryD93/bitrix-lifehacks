–ü—Ä–∏–≤–µ—Ç, –Ω–∞—Ä–æ–¥! –°—é–¥–∞ —è –±—É–¥—É –≤—ã–∫–ª–∞–¥—ã–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ª–∞–π—Ñ—Ö–∞–∫–∏ –∏ –≥–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –±–∏—Ç—Ä–∏–∫—Å–∞. –ù–∞–¥–µ—é—Å—å, –í–∞–º –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –∏ –ø–æ–ª–µ–∑–Ω–æ)

# 1. –ò–Ω—Ñ–æ–±–ª–æ–∫ —Ç–µ–≥–æ–≤ –¥–ª—è —É–º–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
–ë—ã–≤–∞—é—Ç —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏—â—É—Ç —Ç–æ–≤–∞—Ä—ã –∏–ª–∏ —Å—Ç–∞—Ç—å–∏ –ø–æ —Å–ª–æ–≤–∞–º, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∫–æ–Ω—Ç–µ–Ω—Ç–µ. –†–µ—à–µ–Ω–∏–µ: —Å–æ–∑–¥–∞–µ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–∏—Å–∫–æ–≤—ã–µ —Ç–µ–≥–∏ –≤ –≤–∏–¥–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–Ω—Ñ–æ–±–ª–æ–∫–∞, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞—Å—à–∏—Ä—è—é—Ç –ø–æ–∏—Å–∫–æ–≤—É—é –≤—ã–¥–∞—á—É.
## –ß—Ç–æ –º—ã –ø–æ–ª—É—á–∏–º:
+ –ì–∏–±–∫–∏–µ —Ç–µ–≥–∏ ‚Äî –ª—é–±—ã–µ —Å–ª–æ–≤–∞-—Å–∏–Ω–æ–Ω–∏–º—ã –¥–ª—è –ø–æ–∏—Å–∫–∞
+ –ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—é "–≤ –æ–±—Ö–æ–¥" ‚Äî —Ä–∞–±–æ—Ç–∞–µ–º —Å–æ —Å–ª–æ–∂–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –∏ –æ—à–∏–±–∫–∞–º–∏
+ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Äî –º–µ–Ω—è–µ–º —Ç–µ–≥–∏ ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ–∏—Å–∫
## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:
### –®–∞–≥ 1: –°–æ–∑–¥–∞–µ–º –∏–Ω—Ñ–æ–±–ª–æ–∫ —Ç–µ–≥–æ–≤
+ –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ "–¢–∏–ø—ã –∏–Ω—Ñ–æ–±–ª–æ–∫–æ–≤" ‚Üí —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π
![img.png](search_tags/img.png)
+ –ù–∞–∑—ã–≤–∞–µ–º –ø–æ–Ω—è—Ç–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä "–ü–æ–∏—Å–∫–æ–≤—ã–µ —Ç–µ–≥–∏"
+ –í–∞–∂–Ω–æ! –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª—è:
+ PREVIEW_TEXT ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–ª–æ–≤–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
+ DETAIL_TEXT ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∏–Ω–æ–Ω–∏–º—ã

### –®–∞–≥ 2: –î–æ–±–∞–≤–ª—è–µ–º —Å–≤–æ–π—Å—Ç–≤–æ –≤ —Ü–µ–ª–µ–≤—ã–µ –∏–Ω—Ñ–æ–±–ª–æ–∫–∏
+ –°–æ–∑–¥–∞–µ–º —Å–≤–æ–π—Å—Ç–≤–æ —Ç–∏–ø–∞ "–ü—Ä–∏–≤—è–∑–∫–∞ –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º"
+ –ö–æ–¥ —Å–≤–æ–π—Å—Ç–≤–∞: SEARCH_TAGS
  ![img_1.png](search_tags/img_1.png)
+ –ù–∞–∑–≤–∞–Ω–∏–µ: "–ü–æ–∏—Å–∫–æ–≤—ã–µ —Ç–µ–≥–∏"
+ –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º —Å–≤–æ–π—Å—Ç–≤–æ –∫ –∏–Ω—Ñ–æ–±–ª–æ–∫—É –Ω–∞—à–∏—Ö —Ç–µ–≥–æ–≤
![img_2.png](search_tags/img_2.png)
+ –í —ç–ª–µ–º–µ–Ω—Ç–µ –∏–Ω—Ñ–æ–±–ª–æ–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞
![img_3.png](search_tags/img_3.png)
+ –¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –≤ –Ω—É–∂–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
![img_4.png](search_tags/img_4.png)
## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏–∫–∏
–ê –≤–æ—Ç —Å–µ–π—á–∞—Å –±—É–¥–µ—Ç —Å–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ - —Å–æ–∑–¥–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ __BeforeIndex__, –∫–æ—Ç–æ—Ä–æ–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏–µ–π —ç–ª–µ–º–µ–Ω—Ç–∞.
–§—É–Ω–∫—Ü–∏–∏, –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏–µ –ø–æ —Å–æ–±—ã—Ç–∏—è–º, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ init.php.

```plaintext
–∫–æ—Ä–Ω–µ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è/
‚îú‚îÄ‚îÄ üìÅ local/           
    ‚îú‚îÄ‚îÄ üìÅ php_interface/   
       ‚îú‚îÄ‚îÄ init.php     #—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ç—É—Ç

```
–•–æ—Ä–æ—à–∏–º —Ç–æ–Ω–æ–º –±—É–¥–µ—Ç –ø–∏—Å–∞—Ç—å –≤—Å—é –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—é –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ __local__
1. –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞
```php
AddEventHandler("search", "BeforeIndex", "ModifySearchContentWithTags");
```

2.  –¢–µ–ø–µ—Ä—å –Ω–∞–ø–∏—à–µ–º —Å–∞–º—É —Ñ—É–Ω–∫—Ü–∏—é __ModifySearchContentWithTags__, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ —Å–æ–±—ã—Ç–∏—é –ø–µ—Ä–µ–¥ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–µ–π
```php
function ModifySearchContentWithTags($arFields)
{
//–£–∫–∞–∂–µ–º, —á—Ç–æ –Ω–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –∏–º–µ–Ω–Ω–æ –º–æ–¥—É–ª—å –∏–Ω—Ñ–æ–±–ª–æ–∫–æ–≤
    if ($arFields["MODULE_ID"] == "iblock") {
        $elementId = $arFields["ITEM_ID"];
        // –ü–æ–ª—É—á–∞–µ–º –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç –ø–æ –µ–≥–æ ID
        $element = CIBlockElement::GetByID($elementId)->Fetch();

        if (!$element) return $arFields;

// –ü–æ–ª—É—á–∞–µ–º —Å–≤–æ–π—Å—Ç–≤–æ SEARCH_TAGS 
        $tagsProperty = CIBlockElement::GetProperty(
                $element["IBLOCK_ID"],
                $element["ID"],
                array(),
                array("CODE" => "SEARCH_TAGS")
        );

// –°–æ–∑–¥–∞–µ–º –º–∞—Å—Å–∏–≤ —Å–ª–æ–≤, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è
        $tagWords = [];
        while ($tag = $tagsProperty->Fetch()) {
            if (!empty($tag["VALUE"])) {
                $tagElement = CIBlockElement::GetByID($tag["VALUE"])->Fetch();
                if ($tagElement && !empty($tagElement["PREVIEW_TEXT"]) || $tagElement && !empty($tagElement["DETAIL_TEXT"])) {
                    // –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é $fullText –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –≤—Å–µ —Å–ª–æ–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–≤–æ–π—Å—Ç–≤–∞—Ö
                    // PREVIEW_TEXT –∏ DETAIL_TEXT, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—è—Ç—ã–º–∏
                    $fullText = $tagElement["PREVIEW_TEXT"] . " " . $tagElement["DETAIL_TEXT"];
                    $words = array_map('trim', explode(",", $fullText));
                    $tagWords = array_merge($tagWords, $words);
                }
            }
        }
// –î–æ–±–∞–≤–ª—è–µ–º —Å–ª–æ–≤–∞ –≤ —Ç–µ–ª–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–æ –º–æ–¥—É–ª–µ–º –ø–æ–∏—Å–∫–∞
        if (!empty($tagWords)) {
            $arFields["BODY"] .= " " . implode(" ", $tagWords);
        }
    }
    
    // –ú–æ–∂–µ–º –≤—ã–≤–µ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –≤ search_debug.log –≤ –∫–æ—Ä–Ω–µ —Å–∞–π—Ç–∞
    file_put_contents(
            $_SERVER["DOCUMENT_ROOT"] . "/search_debug.log",
            date("Y-m-d H:i:s") . "\n" .
            "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:\n" . print_r($arFields, true) . "\n" .
            "Element:\n" . print_r($element, true) . "\n" .
            "tagwords:\n" . print_r($tagWords, true) . "\n" .
            "----------------------------------------\n",

    );

    return $arFields;
}
```
–¢–µ–ø–µ—Ä—å —ç–ª–µ–º–µ–Ω—Ç—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å —Å–≤—è–∑–∞–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ —Ç–µ–≥–æ–≤, –±—É–¥—É—Ç –ø–æ–ø–∞–¥–∞—Ç—å –≤ –ø–æ–∏—Å–∫–æ–≤—É—é –≤—ã–¥–∞—á—É. –†–∞–∑—É–º–µ–µ—Ç—Å—è, –ø–æ—Å–ª–µ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏)
–ù–æ —Ç—É—Ç –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–æ —Å–µ—Ä—å–µ–∑–Ω–æ–µ "__–ù–û__" - —ç–ª–µ–º–µ–Ω—Ç —Å —Ç–µ–≥–∞–º–∏ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ –º–æ–º–µ–Ω—Ç –µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è. –ê –µ—Å–ª–∏ –º—ã –∑–∞—Ö–æ—Ç–∏–º –ø–æ–º–µ–Ω—è—Ç—å —Å–ª–æ–≤–∞ –≤ —Ç–µ–≥–∞—Ö?
–ù–µ—É–∂–µ–ª–∏ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø—Ä–æ–≤–æ–¥–∏—Ç—å –ø–æ–ª–Ω—É—é –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –∏–ª–∏ –≤—Ä—É—á–Ω—É—é –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç?
–ö–æ–Ω–µ—á–Ω–æ –∂–µ –Ω–µ—Ç. –ï—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π) 
–ù–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –µ—â–µ –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø—Ä–æ–≤–æ–¥–∏—Ç—å –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–∞–º–∏—Ö —Ç–µ–≥–æ–≤ –ø–æ–∏—Å–∫–∞.

3.  –ù–∞–ø–∏—à–µ–º —Ñ—É–Ω–∫—Ü–∏—é –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–∞–º–∏—Ö —Ç–µ–≥–æ–≤
–ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è ___OnAfterIBlockElementAdd___ –∏ ___OnAfterIBlockElementUpdate___. –ë–æ–ª—å—à–µ –≤—Å–µ–≥–æ –Ω–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç OnAfterIBlockElementUpdate, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏–º–µ–Ω–Ω–æ —ç—Ç–æ —Å–æ–±—ã—Ç–∏–µ
–æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —ç–ª–µ–º–µ–Ω—Ç–µ —Ç–µ–≥–∞.

```php
AddEventHandler("iblock", "OnAfterIBlockElementAdd", "ForceReindexForTaggedElements");
AddEventHandler("iblock", "OnAfterIBlockElementUpdate", "ForceReindexForTaggedElements");
```

–ê –≤–æ—Ç –∏ —Å–∞–º–∞ —Ñ—É–Ω–∫—Ü–∏—è: 
```php
function ForceReindexForTaggedElements(&$arFields)
{
    $TAGS_IBLOCK_ID = 70; // —Å—é–¥–∞ –º—ã –∂–µ—Å—Ç–∫–æ –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º ID –∏–Ω—Ñ–æ–±–ª–æ–∫–∞ —Ç–µ–≥–æ–≤

    // –†–∞–±–æ—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏-—Ç–µ–≥–∞–º–∏
    if ($arFields["IBLOCK_ID"] != $TAGS_IBLOCK_ID) return;

    // –ù–∞—Ö–æ–¥–∏–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –≥–¥–µ –ø—Ä–∏–≤—è–∑–∞–Ω —ç—Ç–æ—Ç —Ç–µ–≥
    $rsElements = CIBlockElement::GetList(
            array(),
            array(
                    "PROPERTY_SEARCH_TAGS" => $arFields["ID"], // –≠–ª–µ–º–µ–Ω—Ç—ã —Å —ç—Ç–∏–º —Ç–µ–≥–æ–º
                    "ACTIVE" => "Y" // –°–º–æ—Ç—Ä–∏–º –ø–æ –∞–∫—Ç–∏–≤–Ω—ã–º
            ),
            false,
            false,
            array("ID", "IBLOCK_ID", "IBLOCK_TYPE", "NAME", "PREVIEW_TEXT", "DETAIL_TEXT", "TIMESTAMP_X", "PERMISSIONS", "SITE_ID", "MODULE_ID")
    );

    while ($element = $rsElements->Fetch()) {
        // 1. –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ –µ–≥–æ ID
        $fullElement = CIBlockElement::GetByID($element["ID"])->Fetch();

        // 2. –°—Ñ–æ—Ä–º–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞
        $searchData = array(
                "TITLE" => $fullElement["NAME"],
                "BODY" => strip_tags($fullElement["PREVIEW_TEXT"] . " " . $fullElement["DETAIL_TEXT"]),
                "ITEM_ID" => $fullElement["ID"],
                "PARAM1" => $fullElement["IBLOCK_TYPE_ID"],
                "PARAM2" => $fullElement["IBLOCK_ID"],
                "SITE_ID" => $fullElement["LID"],
        );

        // 3. –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —Ç–µ–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –ø—Ä–∏–≤—è–∑–∞–ª–∏ –∫ —ç–ª–µ–º–µ–Ω—Ç—É
        
        $tagsProperty = CIBlockElement::GetProperty(
                $fullElement["IBLOCK_ID"],
                $fullElement["ID"],
                array(),
                array("CODE" => "SEARCH_TAGS")
        );

        $tagContents = [];
        while ($tag = $tagsProperty->Fetch()) {
            if (!empty($tag["VALUE"])) {
                $tagElement = CIBlockElement::GetByID($tag["VALUE"])->Fetch();
                if ($tagElement && !empty($tagElement["PREVIEW_TEXT"])) {
                    $tagContents[] = $tagElement["PREVIEW_TEXT"];
                } else if ($tagElement && !empty($tagElement["DETAIL_TEXT"])) {
                    $tagContents[] = $tagElement["DETAIL_TEXT"];
                }
            }
        }

        // 4. –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–≥–∏ –≤ BODY –¥–ª—è 
        if (!empty($tagContents)) {
            $searchData["BODY"] .= " " . implode(" ", $tagContents);
        }

        // 5. –ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è. –ù–∏–∂–µ 2 —Å–ø–æ—Å–æ–±–∞ –≤—ã–∑–≤–∞—Ç—å –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é, –Ω–æ –µ–¥–≤–∞ –ª–∏ –≤ –Ω–∏—Ö –µ—Å—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞
//        $search = new CSearch();
//        $search->DeleteIndex($fullElement["ID"], "iblock");
//        $search->Index("iblock", $fullElement["ID"], $searchData, true);
        CSearch::Index("iblock", $fullElement["ID"], $searchData, true);


        // –í—ã–≤–æ–¥–∏–º –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª
        file_put_contents(
                $_SERVER["DOCUMENT_ROOT"] . "/search_reindex.log",
                date("Y-m-d H:i:s") . " | –≠–ª–µ–º–µ–Ω—Ç ID: " . $fullElement["ID"] . "\n" .
                "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–≥–æ–≤: " . count($tagContents) . "\n" .
                "–î–ª–∏–Ω–∞ BODY: " . strlen($searchData["BODY"]) . "\n" .
                "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ searchData:\n" . print_r($searchData, true) . "\n" . 
                "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ fullElementID:\n" . print_r($fullElement, true) . "\n" .
                "----------------------------------------\n",

        );
    }
}
```
–í–æ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ –∏ –≤—Å–µ. –î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –±—É–¥–µ—Ç –∞–∫—Ç—É–∞–ª–µ–Ω –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏ —Å–∞–π—Ç–∞ –ø–∏—à—É—Ç —Å –æ—à–∏–±–∫–∞–º–∏ –∏ —à—Ç–∞—Ç–Ω–∞—è –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—è –Ω–µ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è)
–ü–æ –∏—Ç–æ–≥—É –º—ã –∏–º–µ–µ–º: 
+ –£–º–Ω—ã–π –ø–æ–∏—Å–∫ ‚Äî –Ω–∞—Ö–æ–¥–∏–º –ø–æ —Å–∏–Ω–æ–Ω–∏–º–∞–º –∏ —á–∞—Å—Ç—ã–º –æ—à–∏–±–∫–∞–º
+ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ ‚Äî –º–µ–Ω—è–µ–º —Ç–µ–≥ ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º —Å–≤—è–∑–∞–Ω–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–∞–º
+ –ì–∏–±–∫–æ—Å—Ç—å ‚Äî –æ–¥–∏–Ω —Ç–µ–≥ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
+ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –≤—Å–µ–≥–¥–∞ –≤–∏–¥–∏–º —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π. –ù–∞ –ø—Ä–æ–¥–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ª—É—á—à–µ –æ—Ç–∫–ª—é—á–∏—Ç—å) 